<div class="container">
  <div class="left-menu">
    <div class="left-menu-header">
      <img ngSrc="assets/logo-24px.png" height="24" width="24" alt="">
    </div>
    <div class="left-menu-content">
      <app-workspace *ngIf="isLoggedIn"></app-workspace>
      <app-login *ngIf="!isLoggedIn"></app-login>
    </div>
  </div>

  <div class="main-section">
    <div class="nav-menu">
      <app-nav-menu *ngIf="isLoggedIn"></app-nav-menu>
      <div style="flex: 1"></div>
      <div class="app-menu-button">
        <mat-icon matTooltip="Application menu"
                  [matMenuTriggerFor]="appMenu">
          more_vert
        </mat-icon>
      </div>
    </div>
    <div *ngIf="!isLoggedIn" class="connection-container">
      <app-home></app-home>
    </div>
    <div class="connection-container"
         style="display: flex; justify-content: center; align-items: center"
         *ngIf="isLoggedIn && !workspace">
      <div style="max-width: 50%;">
        <app-workspace-help></app-workspace-help>
      </div>
    </div>
    <router-outlet *ngIf="isLoggedIn"></router-outlet>
  </div>
</div>

<!--------------------------------------------
App menu
--------------------------------------------->
<mat-menu #appMenu="matMenu">
  <button mat-menu-item (click)="toggleTheme()">
    <mat-icon>{{ theme === "dark" ? "light_mode" : "dark_mode" }}</mat-icon>
    {{ theme === "dark" ? "Activate light mode" : "Activate dark mode" }}
  </button>
  <button mat-menu-item (click)="setFrequency()" *ngIf="isLoggedIn">
    <mat-icon>sync</mat-icon>
    Change refresh frequency ({{ frequency / 1000 }}s)
  </button>
  <button mat-menu-item (click)="logOut()" *ngIf="isLoggedIn">
    <mat-icon>logout</mat-icon>
    Logout
  </button>
  <mat-divider></mat-divider>
  <a mat-menu-item href="https://github.com/xbauquet/Ginny" target="_blank">
    <mat-icon>code</mat-icon>
    Sources on github
  </a>
  <a mat-menu-item href="https://www.flaticon.com/collections/MTAzODYxOTQ=" target="_blank">
    <div class="logo-menu-item">
      <img ngSrc="assets/logo-outline-24px.png"
           alt=""
           height="24"
           width="24">
      Logo
    </div>
  </a>

  <mat-divider></mat-divider>
  <a mat-menu-item href="https://github.com/xbauquet" target="_blank">
    <mat-icon>favorite</mat-icon>
    Coded by @xbauquet
  </a>
  <div class="version">
    {{ version }}
  </div>
</mat-menu>

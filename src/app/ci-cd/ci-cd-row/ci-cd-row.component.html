<div class="run-row"
     [class]="'run-row-' + run.runs[0].conclusion">
  <div class="title-container">
    <div>
      {{ run.workflow.name }}
    </div>
    <div class="subtitle">
      {{ run.runs[0].commitMessage }}
    </div>
  </div>
  <div style="flex: 1"></div>
  <div class="run-information">
    <div style="white-space: nowrap;">
      {{ run.runs[0].startDate | date:'YYYY/MM/dd - HH:mm' }}
    </div>
    <div class="branch-name">
      {{ run.runs[0].headBranch }}
    </div>
    <mat-icon [matMenuTriggerFor]="rowMenu"
              class="run-menu-button">more_vert
    </mat-icon>
  </div>
</div>

<!--------------------------------------------
Row menu
--------------------------------------------->
<mat-menu #rowMenu="matMenu">
  <a mat-menu-item
     [href]="run.workflow.sourceUrl"
     target="_blank">
    <mat-icon>code</mat-icon>
    Code on Github
  </a>

  <a mat-menu-item
     [disabled]="run.runs.length <= 0"
     [href]="run.runs.length > 0 ? run.runs[0].htmlUrl : ''"
     target="_blank">
    <mat-icon>article</mat-icon>
    Last workflow run on Github
  </a>

  <button mat-menu-item
          [disabled]="!run.workflow.isDispatchable"
          (click)="runWorkflow()">
    <mat-icon class="menu-icon">play_arrow</mat-icon>
    Run workflow
  </button>
</mat-menu>
